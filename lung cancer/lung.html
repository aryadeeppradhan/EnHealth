<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="lung.css">
    <title>EnHealth - Lung Cancer Prediction</title>
</head>
<body>
    <div class="bg-gradient"></div>

    <nav>
        <div class="logo">EnHealth</div>
        <ul class="nav-links">
            <li><a href="/index.html">Home</a></li>
            <li><a href="/health.html">Health</a></li>
            <li><a href="/history.html">History</a></li>
            <li><a href="#" data-action="logout">Logout</a></li>
        </ul>
    </nav>

    <div class="form-container">
        <div class="form-header">
            <h1 class="form-title">
                <span class="title-icon">ü´Å</span>
                Lung Cancer Prediction
            </h1>
            <p class="form-subtitle">Complete the form below for AI-powered lung cancer risk assessment</p>
        </div>

        <div class="warning-banner">
            <span class="warning-icon">‚ö†Ô∏è</span>
            <p class="warning-text">
                <strong>Medical Disclaimer:</strong> This prediction tool is for informational purposes only and should not replace professional medical advice. Please consult with a healthcare provider for proper diagnosis and treatment.
            </p>
        </div>

        <form id="lungCancerForm">
            <!-- Demographics Section -->
            <div class="demographic-section">
                <h3 class="section-title">
                    <span>üë§</span>
                    Personal Information
                </h3>
                <div class="demographic-grid">
                    <div class="form-group">
                        <label for="age">Age</label>
                        <input type="number" id="age" name="age" placeholder="Enter your age" required min="1" max="120">
                    </div>

                    <div class="form-group">
                        <label>Gender</label>
                        <div class="gender-container">
                            <div class="gender-option">
                                <input type="radio" id="gender-male" name="gender" value="male" required>
                                <label for="gender-male" class="gender-label">
                                    <span>‚ôÇÔ∏è</span> Male
                                </label>
                            </div>
                            <div class="gender-option">
                                <input type="radio" id="gender-female" name="gender" value="female">
                                <label for="gender-female" class="gender-label">
                                    <span>‚ôÄÔ∏è</span> Female
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Risk Factors Section -->
            <div class="demographic-section">
                <h3 class="section-title">
                    <span>üî¨</span>
                    Health & Lifestyle Risk Factors
                </h3>
                <div class="risk-factors-grid">
                    <!-- Smoking -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Smoking</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="smoking-yes" name="smoking" value="yes" required>
                                <label for="smoking-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="smoking-no" name="smoking" value="no">
                                <label for="smoking-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Finger Discoloration -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Finger Discoloration</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="finger-yes" name="fingerDiscoloration" value="yes" required>
                                <label for="finger-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="finger-no" name="fingerDiscoloration" value="no">
                                <label for="finger-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Mental Stress -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Mental Stress</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="stress-yes" name="mentalStress" value="yes" required>
                                <label for="stress-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="stress-no" name="mentalStress" value="no">
                                <label for="stress-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Exposure to Pollution -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Exposure to Pollution</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="pollution-yes" name="pollution" value="yes" required>
                                <label for="pollution-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="pollution-no" name="pollution" value="no">
                                <label for="pollution-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Long Term Illness -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Long Term Illness</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="illness-yes" name="longTermIllness" value="yes" required>
                                <label for="illness-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="illness-no" name="longTermIllness" value="no">
                                <label for="illness-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Immune Weakness -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Immune Weakness</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="immune-yes" name="immuneWeakness" value="yes" required>
                                <label for="immune-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="immune-no" name="immuneWeakness" value="no">
                                <label for="immune-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Breathing Issue -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Breathing Issue</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="breathing-yes" name="breathingIssue" value="yes" required>
                                <label for="breathing-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="breathing-no" name="breathingIssue" value="no">
                                <label for="breathing-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Alcohol Consumption -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Alcohol Consumption</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="alcohol-yes" name="alcoholConsumption" value="yes" required>
                                <label for="alcohol-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="alcohol-no" name="alcoholConsumption" value="no">
                                <label for="alcohol-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Throat Discomfort -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Throat Discomfort</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="throat-yes" name="throatDiscomfort" value="yes" required>
                                <label for="throat-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="throat-no" name="throatDiscomfort" value="no">
                                <label for="throat-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Chest Tightness -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Chest Tightness</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="chest-yes" name="chestTightness" value="yes" required>
                                <label for="chest-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="chest-no" name="chestTightness" value="no">
                                <label for="chest-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Family History -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Family History</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="family-yes" name="familyHistory" value="yes" required>
                                <label for="family-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="family-no" name="familyHistory" value="no">
                                <label for="family-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Smoking Family History -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Smoking Family History</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="smokingfamily-yes" name="smokingFamilyHistory" value="yes" required>
                                <label for="smokingfamily-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="smokingfamily-no" name="smokingFamilyHistory" value="no">
                                <label for="smokingfamily-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Stress Immune -->
                    <div class="risk-factor-card">
                        <label class="factor-label">Stress Immune</label>
                        <div class="toggle-container">
                            <div class="toggle-option">
                                <input type="radio" id="stressimmune-yes" name="stressImmune" value="yes" required>
                                <label for="stressimmune-yes" class="toggle-label">Yes</label>
                            </div>
                            <div class="toggle-option">
                                <input type="radio" id="stressimmune-no" name="stressImmune" value="no">
                                <label for="stressimmune-no" class="toggle-label">No</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <button type="submit" class="submit-btn">
                <span>Submit for Prediction</span>
            </button>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p class="loading-text">Analyzing your risk factors with AI model...</p>
            </div>
        </form>
    </div>

    <!-- Result Modal -->
    <div class="modal" id="resultModal">
        <div class="modal-content">
            <div class="modal-icon" id="modalIcon">üéØ</div>
            <h2 class="modal-title" id="modalTitle">Analysis Complete</h2>
            <div class="risk-percentage" id="riskPercentage">--</div>
            <p class="modal-message" id="modalMessage">Your lung cancer risk assessment has been calculated based on the information provided.</p>
            <div class="modal-actions">
                <button class="modal-close" type="button" data-action="close-result">Close</button>
                <button class="modal-cta" type="button" data-action="download-report">View Detailed Report</button>
                <button class="modal-cta outline" type="button" data-action="view-recommendations">View Recommendations</button>
            </div>
        </div>
    </div>
    <div class="modal" id="recommendationModal">
        <div class="modal-content recommendations">
            <div class="recommendation-header">
                <button class="modal-back" type="button" data-action="back-to-result">‚Üê Back to result</button>
                <div>
                    <p class="recommendation-pill" id="recTag">Healthy Lungs</p>
                    <h3 id="recTitle">Preventive Lung Care</h3>
                    <p class="recommendation-subtitle" id="recSubtitle">
                        Evidence-backed video and article to help you stay proactive.
                    </p>
                </div>
            </div>
            <div class="recommendation-grid">
                <div class="recommendation-card video-card">
                    <h4>Watch</h4>
                    <div class="video-wrapper">
                        <iframe id="recVideo" src="" title="Lung health video" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>
                    </div>
                </div>
                <div class="recommendation-card article-card">
                    <h4>Read</h4>
                    <h5 id="recArticleTitle">Protective Strategies for Lung Health</h5>
                    <p id="recArticleSummary">
                        Learn about lifestyle changes, screening reminders, and early warning signs every patient should know.
                    </p>
                    <a id="recArticleLink" class="article-link" href="#" target="_blank" rel="noopener">
                        Open article ‚Üí
                    </a>
                </div>
            </div>
        </div>
    </div>
    <script src="../auth.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js" defer></script>
    <script src="lung.js" defer></script>
</body>
</html>
